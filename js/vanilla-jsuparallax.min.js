var vanillaJsuParallax=function(a){"use strict";var b=this,c=0;return b.items=[],b.defaultSettings={},b.init=function(a){b.items=a.items||[],b.itemsLen=b.items.length,b.itemCallback=a.itemCallback||b.itemCallbackDefault,b.itemPrepare=a.itemPrepare||b.itemPrepareDefault,b.perspective=a.perspective||200;for(var c=0;c<b.itemsLen;c++)b.items[c]=b.itemPrepareDefault(b.items[c]);window.addEventListener("resize",b.scrollEvent,1),document.addEventListener("scroll",b.scrollEvent,1),b.scrollEvent()},b.scrollEvent=function(){c=parseInt(window.innerHeight,10);for(var a=0;a<b.itemsLen;a++)b.setScrollItem(b.items[a])},b.setScrollItem=function(a){var d=a.getBoundingClientRect(),e=(d.top+d.bottom)/2,f=e/c-.5;b.itemCallback(a,f)},b.itemPrepareDefault=function(a){var c={};c.dir="bottom"==a.getAttribute("data-jsuplxdir")?"bottom":"top";var d=parseInt(a.getAttribute("data-jsuplxperspective"),10);return c.perspective=d?d:b.perspective,a.jsuParallaxOpts=c,a.firstElementChild.style.willChange="transform",a},b.itemCallbackDefault=function(a,c){var d=c*a.jsuParallaxOpts.perspective;"bottom"==a.jsuParallaxOpts.dir&&(d=0-d),b.setTransform(a.firstElementChild,0,d,0)},b.setTransform=function(a,b,c,d){a.style.webkitTransform="translate3d("+b+"px,"+c+"px,"+d+"px)",a.style.mozTransform="translate3d("+b+"px,"+c+"px,"+d+"px)",a.style.transform="translate3d("+b+"px,"+c+"px,"+d+"px)"},b.init(a),b};